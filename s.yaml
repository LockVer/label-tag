edition: 3.0.0
name: label-tag-app
access: default

resources:
  label-tag-function:
    component: fc3
    props:
      region: cn-shenzhen # 可根据需要修改区域
      functionName: label-tag
      description: Label Tag Next.js Application
      runtime: nodejs20 # 使用 Node.js 20 运行时
      code: ./
      handler: index.handler
      memorySize: 2048 # 内存大小（MB），Next.js 需要较大内存
      timeout: 300 # 超时时间（秒），首次启动需要安装依赖
      cpu: 1.0 # CPU 规格
      diskSize: 10240 # 磁盘大小（MB），需要足够空间存储依赖
      instanceConcurrency: 1 # 实例并发数

      # 环境变量
      environmentVariables:
        NODE_ENV: production

      # 忽略上传的文件
      triggers:
        - triggerName: httpTrigger
          triggerType: http
          description: HTTP trigger
          triggerConfig:
            authType: anonymous # 匿名访问，可改为 function 需要鉴权
            disableURLInternet: false
            methods:
              - GET
              - POST
              - PUT
              - DELETE
              - HEAD
              - OPTIONS
              - PATCH
